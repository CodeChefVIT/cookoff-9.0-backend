-- Create "questions" table
CREATE TABLE "public"."questions" ("id" uuid NOT NULL, "description" text NULL, "title" text NULL, "input_format" text NULL, "points" integer NULL, "round" integer NOT NULL, "constraints" text NULL, "output_format" text NULL, PRIMARY KEY ("id"));
-- Create "testcases" table
CREATE TABLE "public"."testcases" ("id" uuid NOT NULL, "expected_output" text NULL, "memory" text NULL, "input" text NULL, "hidden" boolean NULL, "runtime" numeric NULL, "question_id" uuid NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "testcases_question_id_fkey" FOREIGN KEY ("question_id") REFERENCES "public"."questions" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
-- Create "users" table
CREATE TABLE "public"."users" ("id" uuid NOT NULL, "email" text NOT NULL, "reg_no" text NOT NULL, "password" text NOT NULL, "role" text NOT NULL, "round_qualified" integer NOT NULL DEFAULT 0, "score" integer NULL DEFAULT 0, "name" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "users_email_key" UNIQUE ("email"), CONSTRAINT "users_reg_no_key" UNIQUE ("reg_no"));
-- Create "submissions" table
CREATE TABLE "public"."submissions" ("id" uuid NOT NULL, "question_id" uuid NOT NULL, "testcases_passed" integer NULL DEFAULT 0, "testcases_failed" integer NULL DEFAULT 0, "runtime" numeric NULL, "submission_time" timestamp NULL DEFAULT CURRENT_TIMESTAMP, "testcase_id" uuid NULL, "language_id" integer NOT NULL, "description" text NULL, "memory" integer NULL, "user_id" uuid NULL, "status" text NULL, PRIMARY KEY ("id"), CONSTRAINT "submissions_question_id_fkey" FOREIGN KEY ("question_id") REFERENCES "public"."questions" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, CONSTRAINT "submissions_testcase_id_fkey" FOREIGN KEY ("testcase_id") REFERENCES "public"."testcases" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, CONSTRAINT "submissions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "public"."users" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
